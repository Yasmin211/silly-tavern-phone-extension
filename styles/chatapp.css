

@keyframes phone-sim-v14-typing-anim{0%,100%{transform:translateY(0);opacity:0.5}50%{transform:translateY(-2px);opacity:1}}

#phone-sim-panel-v10-0 #chatapp-view .subview-wrapper { flex: 1; position: relative; overflow: hidden; }

#phone-sim-panel-v10-0 .chatapp-bottom-nav { height: 50px; flex-shrink: 0; display: flex; border-top: 1px solid #e0e0e0; background: #f7f7f7; }
#phone-sim-panel-v10-0 .chatapp-bottom-nav .nav-item { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 2px; color: #888; cursor: pointer; position: relative; }
#phone-sim-panel-v10-0 .chatapp-bottom-nav .nav-item .nav-badge { position: absolute; top: 5px; right: 25px; width: 8px; height: 8px; background-color: #ff3b30; border-radius: 50%; border: 1px solid #f7f7f7; display: none; }
#phone-sim-panel-v10-0 .chatapp-bottom-nav .nav-item.active { color: #07c160; }
#phone-sim-panel-v10-0 .chatapp-bottom-nav .nav-item i { font-size: 20px; }
#phone-sim-panel-v10-0 .chatapp-bottom-nav .nav-item span { font-size: 10px; }
#phone-sim-panel-v10-0 .discover-list { padding-top: 10px; background: #fff; flex:1; }
#phone-sim-panel-v10-0 .discover-item { display: flex; align-items: center; padding: 12px 16px; background: #fff; border-bottom: 1px solid #f0f0f0; cursor: pointer; position: relative;}
#phone-sim-panel-v10-0 .discover-item .discover-badge { position: absolute; top: 50%; transform: translateY(-50%); right: 40px; width: 8px; height: 8px; background-color: #ff3b30; border-radius: 50%; display: none; }
#phone-sim-panel-v10-0 .discover-item i:first-child { color: #07c160; font-size: 22px; margin-right: 12px; width: 25px; text-align: center; }
#phone-sim-panel-v10-0 .discover-item span { flex: 1; font-size: 16px; }
#phone-sim-panel-v10-0 .discover-item i.fa-chevron-right { color: #ccc; }

/* Chat List */
#phone-sim-panel-v10-0 .chat-list-subview{background-image:url(https://files.catbox.moe/o84j4n.jpg);background-size:cover;}
#phone-sim-panel-v10-0 .app-header .header-actions-group { position: absolute; right: 16px; display:flex; gap: 16px; z-index: 10; }
#phone-sim-panel-v10-0 .chat-list-content{flex-grow:1;overflow-y:auto}
#phone-sim-panel-v10-0 .chat-list-item{display:flex;align-items:center;padding:12px 16px;cursor:pointer;border-bottom:1px solid rgba(0,0,0,.05);background:rgba(255,255,255,.6);backdrop-filter:blur(5px);position:relative;transition:background-color .2s ease}
#phone-sim-panel-v10-0 .chat-list-item:hover{background:rgba(255,255,255,.8)}
#phone-sim-panel-v10-0 .delete-chat-history-btn{position:absolute;right:12px;top:50%;transform:translateY(-50%);width:30px;height:30px;display:flex;align-items:center;justify-content:center;color:#aaa;border-radius:50%;transition:all .2s ease;opacity:0}
#phone-sim-panel-v10-0 .chat-list-item:hover .delete-chat-history-btn{opacity:1;color:#f44336}
#phone-sim-panel-v10-0 .delete-chat-history-btn:hover{background:rgba(0,0,0,0.1)}
#phone-sim-panel-v10-0 .chat-avatar{width:48px;height:48px;border-radius:50%;margin-right:12px;flex-shrink:0;border:2px solid #fff;box-shadow:0 2px 4px rgba(0,0,0,.1);object-fit:cover}
#phone-sim-panel-v10-0 .chat-info{flex:1;min-width:0}
#phone-sim-panel-v10-0 .chat-header-list{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}
#phone-sim-panel-v10-0 .chat-name-list{font-weight:600;color:#333}
#phone-sim-panel-v10-0 .chat-time{font-size:12px;color:#999}
#phone-sim-panel-v10-0 .chat-preview{font-size:14px;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
#phone-sim-panel-v10-0 .chat-list-item .unread-badge{top:50%;right:16px;transform:translateY(-50%);border:none;}

/* Contacts View Search Bar */
#phone-sim-panel-v10-0 .contacts-subview .app-search-bar {
    padding: 8px 12px;
    background-color: #fff;
    border-bottom: 1px solid #f0f0f0;
    flex-shrink: 0;
}
#phone-sim-panel-v10-0 .contacts-subview .search-input-wrapper {
    position: relative;
}
#phone-sim-panel-v10-0 .contacts-subview .search-input {
    width: 100%;
    height: 36px;
    border-radius: 18px;
    border: none;
    background-color: #f0f2f5;
    padding: 0 16px;
    font-size: 14px;
    box-sizing: border-box;
}


/* Contacts View */
#phone-sim-panel-v10-0 .contacts-list-content { flex: 1; overflow-y: auto; background: #fff; }
#phone-sim-panel-v10-0 .contact-group-header { padding: 8px 16px; font-size: 14px; color: #888; background-color: #f7f7f7; }
#phone-sim-panel-v10-0 .contact-item { display: flex; align-items: center; padding: 10px 16px; border-bottom: 1px solid #f0f0f0; gap: 12px; cursor: pointer; }
#phone-sim-panel-v10-0 .contact-item-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; flex-shrink: 0; }
#phone-sim-panel-v10-0 .contact-item-name { flex-grow: 1; font-size: 16px; }
#phone-sim-panel-v10-0 .new-friend-request-item .contact-item-avatar { border-radius: 50%; }
#phone-sim-panel-v10-0 .new-friend-request-item .request-info { flex-grow: 1; }
#phone-sim-panel-v10-0 .new-friend-request-item .request-message { font-size: 13px; color: #888; margin-top: 2px; }
#phone-sim-panel-v10-0 .new-friend-request-item .request-actions { display: flex; gap: 8px; }
#phone-sim-panel-v10-0 .new-friend-request-item .request-btn { padding: 4px 12px; border: none; border-radius: 12px; font-size: 13px; cursor: pointer; }
#phone-sim-panel-v10-0 .new-friend-request-item .accept-btn { background-color: #07c160; color: white; }
#phone-sim-panel-v10-0 .new-friend-request-item .ignore-btn { background-color: #f0f0f0; color: #555; }
#phone-sim-panel-v10-0 .new-friend-request-item .request-status { color: #999; font-size: 14px; }

/* Me View */
#phone-sim-panel-v10-0 .me-content { flex: 1; background: #f0f2f5; padding-top: 20px; }
#phone-sim-panel-v10-0 .me-profile-card { display: flex; align-items: center; gap: 20px; background: #fff; padding: 20px; }
#phone-sim-panel-v10-0 .me-avatar { width: 64px; height: 64px; border-radius: 50%; object-fit: cover; }
#phone-sim-panel-v10-0 .me-info { flex: 1; }
#phone-sim-panel-v10-0 .me-nickname { font-size: 20px; font-weight: bold; margin: 0; }
#phone-sim-panel-v10-0 .me-id { font-size: 14px; color: #888; margin-top: 4px; }


/* Chat View */
#phone-sim-panel-v10-0 #chatconversation-view{background-image:url(https://files.catbox.moe/95u7ec.JPG);background-size:cover}
#phone-sim-panel-v10-0 .chat-header{height:48px;padding:0 12px;display:flex;align-items:center;justify-content:space-between;}
#phone-sim-panel-v10-0 .header-icons{position:absolute;right:16px;top:50%;transform:translateY(-50%); z-index: 10; display: flex; align-items: center; gap: 16px;}
#phone-sim-panel-v10-0 .header-icons .members-btn { display: none; } /* Hide by default */
#phone-sim-panel-v10-0 .header-avatar{width:40px;height:40px;border-radius:50%;border:1px solid rgba(255,255,255,0.5);box-shadow:0 1px 2px rgba(0,0,0,.1);object-fit:cover;flex-shrink:0}
#phone-sim-panel-v10-0 .header-avatar.clickable-avatar{cursor:pointer;transition:transform .2s ease}
#phone-sim-panel-v10-0 .header-avatar.clickable-avatar:hover{transform:scale(1.1)}
#phone-sim-panel-v10-0 .header-info{display:flex;align-items:center;gap:8px; flex: 1; justify-content: center; margin-left: -30px;}
#phone-sim-panel-v10-0 .header-text{display:flex;flex-direction:column; align-items: flex-start;}
#phone-sim-panel-v10-0 .chat-name-wrapper{display:flex;align-items:center;}
#phone-sim-panel-v10-0 .header-text h2.chat-name{font-size:15px;color:#333;font-weight:600; margin: 0;}
#phone-sim-panel-v10-0 .edit-note-btn{cursor:pointer;margin-left:8px;font-size:12px;color:#888;transition:color .2s ease;}
#phone-sim-panel-v10-0 .chat-name-wrapper:hover .edit-note-btn{color:#333;}
#phone-sim-panel-v10-0 .header-status{font-size:12px;color:#4caf50;display:flex;align-items:center;gap:4px; margin-top: 2px;}
#phone-sim-panel-v10-0 .status-dot{width:6px;height:6px;background:#4caf50;border-radius:50%}
#phone-sim-panel-v10-0 .chat-messages{background:transparent;flex-grow:1;padding:10px 8px;overflow-y:auto;position:relative;display:flex; flex-direction:column;}
#phone-sim-panel-v10-0 .chat-loader { text-align: center; padding: 10px; font-size: 12px; color: #888; }
#phone-sim-panel-v10-0 .time-divider { text-align: center; margin: 12px 0; }
#phone-sim-panel-v10-0 .time-divider span { background: rgba(0,0,0,0.1); color: #888; text-shadow: 0 1px 1px rgba(0,0,0,0.1); font-size: 11px; padding: 3px 10px; border-radius: 12px; }
#phone-sim-panel-v10-0 .unread-divider { display: flex; align-items: center; text-align: center; margin: 10px 0; }
#phone-sim-panel-v10-0 .unread-divider::before, #phone-sim-panel-v10-0 .unread-divider::after { content: ''; flex: 1; border-bottom: 1px solid #e0e0e0; }
#phone-sim-panel-v10-0 .unread-divider:not(:empty)::before { margin-right: .25em; }
#phone-sim-panel-v10-0 .unread-divider:not(:empty)::after { margin-left: .25em; }
#phone-sim-panel-v10-0 .unread-divider span { font-size: 12px; color: #999; padding: 0 10px; }
#phone-sim-panel-v10-0 .scroll-to-bottom-btn { position: absolute; bottom: 60px; right: 20px; width: 36px; height: 36px; background-color: rgba(255,255,255,0.8); backdrop-filter: blur(5px); border: 1px solid #eee; border-radius: 50%; color: #555; display: flex; align-items: center; justify-content: center; cursor: pointer; z-index: 10; box-shadow: 0 2px 8px rgba(0,0,0,0.1); opacity: 0; transform: translateY(10px); transition: opacity 0.3s, transform 0.3s; pointer-events: none; }
#phone-sim-panel-v10-0 .scroll-to-bottom-btn.visible { opacity: 1; transform: translateY(0); pointer-events: auto; }
#phone-sim-panel-v10-0 .scroll-to-bottom-btn .unread-badge { top:-2px; right:-2px; border: 2px solid white; display:none; }
#phone-sim-panel-v10-0 .message{display:flex;margin-bottom:8px;align-items:flex-start;position:relative; animation: phone-sim-v14-fadeInSlideUp 0.3s ease-out;}
#phone-sim-panel-v10-0 .message-wrapper-with-actions {display:flex; align-items:center; gap:8px;}
#phone-sim-panel-v10-0 .message .message-actions { opacity: 0; transition: opacity .2s ease; cursor:pointer; color: #999; padding: 4px; }
#phone-sim-panel-v10-0 .message:hover .message-actions { opacity: 1; }
#phone-sim-panel-v10-0 .message.sent{justify-content:flex-end;}
#phone-sim-panel-v10-0 .message.sent .message-wrapper-with-actions {flex-direction: row-reverse;}
#phone-sim-panel-v10-0 .message-status { align-self: flex-end; margin: 0 5px 5px 5px; font-size: 11px; color: #a0b3d8;}
#phone-sim-panel-v10-0 .message.staged{opacity:0.6;}
#phone-sim-panel-v10-0 .avatar-container{width:48px;height:48px;flex-shrink:0; margin:0 4px; margin-top: 4px;}
#phone-sim-panel-v10-0 .avatar-container .avatar{width:100%;height:100%;border-radius:50%;object-fit:cover;cursor:pointer;}
#phone-sim-panel-v10-0 .message-wrapper{max-width:75%;display:flex;flex-direction:column}
#phone-sim-panel-v10-0 .sender-name{font-size:12px;color:#888;margin-bottom:4px;padding-left:12px;}
#phone-sim-panel-v10-0 .message-content{padding:10px 14px;border-radius:18px;font-size:14px;word-break:break-word;}
#phone-sim-panel-v10-0 .message-content:has(.rich-message){ background: transparent !important; box-shadow: none; padding: 0; }
#phone-sim-panel-v10-0 .message-content:has(.transfer-message), #phone-sim-panel-v10-0 .message-content:has(.location-message), #phone-sim-panel-v10-0 .message-content:has(.red_packet) { border-radius: 8px; }
#phone-sim-panel-v10-0 .received .message-content{background:#fff;color:#333;border-bottom-left-radius:4px}
#phone-sim-panel-v10-0 .sent .message-content{background:linear-gradient(135deg,#6C8CD5,#4A6FBF);color:#fff;border-bottom-right-radius:4px}
#phone-sim-panel-v10-0 .message.system-notification { justify-content: center; width: 100%; margin: 10px 0; animation: none; }
#phone-sim-panel-v10-0 .message.system-notification span { background: rgba(0,0,0,0.1); color: #888; font-size: 12px; padding: 4px 10px; border-radius: 12px; }
#phone-sim-panel-v10-0 .chat-input{position: relative; height:auto;min-height:52px;background:rgba(245,245,245,.9);backdrop-filter:blur(10px);padding:8px 12px;display:flex;align-items:flex-end;gap:8px;border-top:1px solid rgba(0,0,0,.05);flex-shrink:0}
#phone-sim-panel-v10-0 .input-field{flex:1;border:none;border-radius:18px;padding:8px 14px;background:#fff;resize:none;font-family:inherit;font-size:14px;line-height:1.4;box-sizing:border-box;min-height:36px;max-height:100px;overflow-y:auto;}
#phone-sim-panel-v10-0 .send-btn, #phone-sim-panel-v10-0 .emoji-btn, #phone-sim-panel-v10-0 .rich-media-btn{width:36px;height:36px;border:none;border-radius:50%;color:#fff;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0;}
#phone-sim-panel-v10-0 .send-btn { background:#6C8CD5; }
#phone-sim-panel-v10-0 .emoji-btn, #phone-sim-panel-v10-0 .rich-media-btn {background:#f0f0f0;color:#555;}
#phone-sim-panel-v10-0 .typing-indicator{display:inline-flex;gap:4px;padding:10px 14px;}
#phone-sim-panel-v10-0 .typing-indicator span{width:5px;height:5px;background:#b0b0b0;border-radius:50%;animation:phone-sim-v14-typing-anim 1.5s infinite ease-in-out;}
#phone-sim-panel-v10-0 .typing-indicator span:nth-child(2){animation-delay:.25s;}
#phone-sim-panel-v10-0 .typing-indicator span:nth-child(3){animation-delay:.5s;}
#phone-sim-panel-v10-0 .reply-preview-bar{padding:8px 12px 8px 16px;background:rgba(240,242,245,.9);backdrop-filter:blur(5px);border-top:1px solid rgba(0,0,0,0.05);display:flex;justify-content:space-between;align-items:center;font-size:13px;color:#555;flex-shrink:0;}
#phone-sim-panel-v10-0 .reply-preview-content{border-left:2px solid #6C8CD5;padding-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
#phone-sim-panel-v10-0 .reply-preview-content b{color:#333;}
#phone-sim-panel-v10-0 .close-reply-preview{background:none;border:none;font-size:20px;cursor:pointer;color:#888;}
#phone-sim-panel-v10-0 .message-content .reply-content-wrapper{padding:8px;margin:-4px -8px 8px;background:rgba(0,0,0,0.05);border-radius:8px;font-size:13px;border-left:3px solid #6C8CD5;}
#phone-sim-panel-v10-0 .sent .message-content .reply-content-wrapper{background:rgba(255,255,255,0.1);border-left-color:#fff;}
#phone-sim-panel-v10-0 .reply-content-wrapper .reply-sender-name{font-weight:600;}
#phone-sim-panel-v10-0 .reply-content-wrapper .reply-text{opacity:0.8;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;}

/* Group Management & Creation */
#phone-sim-panel-v10-0 .group-members-list, #phone-sim-panel-v10-0 .invite-contact-list, #phone-sim-panel-v10-0 .group-creation-contact-list { flex: 1; overflow-y: auto; background: #fff; }
#phone-sim-panel-v10-0 .group-member-item, #phone-sim-panel-v10-0 .invite-contact-item, #phone-sim-panel-v10-0 .group-creation-contact-item { display: flex; align-items: center; padding: 10px 16px; border-bottom: 1px solid #f0f0f0; gap: 12px; }
#phone-sim-panel-v10-0 .group-member-avatar, #phone-sim-panel-v10-0 .invite-contact-avatar, #phone-sim-panel-v10-0 .group-creation-contact-avatar { width: 40px; height: 40px; border-radius: 50%; object-fit: cover; flex-shrink: 0; }
#phone-sim-panel-v10-0 .group-member-name, #phone-sim-panel-v10-0 .invite-contact-name, #phone-sim-panel-v10-0 .group-creation-contact-name { flex-grow: 1; font-size: 16px; }
#phone-sim-panel-v10-0 .group-member-action .kick-btn { background: #fbe2e2; color: #d9534f; border: 1px solid #f8d7da; padding: 4px 10px; border-radius: 12px; cursor: pointer; font-size: 12px; }
#phone-sim-panel-v10-0 .invite-contact-item, #phone-sim-panel-v10-0 .group-creation-contact-item { cursor: pointer; }
#phone-sim-panel-v10-0 .checkbox { width: 20px; height: 20px; border: 1px solid #ccc; border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all .2s ease; }
#phone-sim-panel-v10-0 .checkbox i { opacity: 0; }
#phone-sim-panel-v10-0 .checkbox.checked { background: #07c160; border-color: #07c160; color: #fff; }
#phone-sim-panel-v10-0 .checkbox.checked i { opacity: 1; }
#phone-sim-panel-v10-0 .group-invite-btn-item { padding: 16px; text-align: center; color: #07c160; font-weight: 500; cursor: pointer; border-bottom: 1px solid #f0f0f0; }
#phone-sim-panel-v10-0 .app-header .header-confirm-btn { position: absolute; right: 16px; top: 50%; transform: translateY(-50%); background: #07c160; color: white; border: none; padding: 4px 12px; border-radius: 12px; font-size: 14px; cursor: pointer; }
#phone-sim-panel-v10-0 .app-header .header-confirm-btn:disabled { background: #9e9e9e; cursor: not-allowed; }

/* Call End Message Bubble */
#phone-sim-panel-v10-0 .call-end-bubble {
    padding: 8px 12px;
    background-color: #fff;
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
    color: #555;
    max-width: 80%;
}
#phone-sim-panel-v10-0 .message.sent .call-end-bubble {
    flex-direction: row-reverse;
}
#phone-sim-panel-v10-0 .call-end-bubble i {
    color: #888;
}
#phone-sim-panel-v10-0 .message.sent .call-end-bubble i {
    transform: scaleX(-1);
}

/* Rich Media Panel & Stickers */
#phone-sim-panel-v10-0 .rich-media-panel { position: absolute; bottom: 52px; left: 0; right: 0; height: 250px; background: #f0f2f5; border-top: 1px solid #ddd; display: flex; flex-direction: column; }
#phone-sim-panel-v10-0 .rich-media-tabs { flex-shrink: 0; display: flex; background: #e8eaed; }
#phone-sim-panel-v10-0 .rich-media-tabs .tab-btn { flex: 1; padding: 10px; border: none; background: transparent; font-size: 14px; color: #555; cursor: pointer; border-bottom: 2px solid transparent; }
#phone-sim-panel-v10-0 .rich-media-tabs .tab-btn.active { color: #07c160; border-bottom-color: #07c160; font-weight: 600; }
#phone-sim-panel-v10-0 .rich-media-tab-content { flex: 1; overflow-y: auto; display: none; }
#phone-sim-panel-v10-0 .rich-media-tab-content.active { display: block; }
#phone-sim-panel-v10-0 #sticker-picker-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 10px; padding: 10px; }
#phone-sim-panel-v10-0 .sticker-item { cursor: pointer; padding: 5px; border-radius: 4px; }
#phone-sim-panel-v10-0 .sticker-item:hover { background: #ddd; }
#phone-sim-panel-v10-0 .sticker-item img { width: 100%; height: auto; display: block; }
#phone-sim-panel-v10-0 #rich-media-actions-menu .menu-item i { margin-right: 8px; }